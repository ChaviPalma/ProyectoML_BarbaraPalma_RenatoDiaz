# ===============================
# RAW DATASETS (entrada)
# ===============================
anime_filtered:
  type: pandas.ParquetDataset
  filepath: data/01_raw/anime_filtered.parquet

users_score:
  type: pandas.ParquetDataset
  filepath: data/01_raw/users_score.parquet

# ===============================
# PROCESSED DATASETS (salida)
# ===============================

users_score_processed:
  type: pandas.ParquetDataset
  filepath: data/02_intermediate/users_score_processed.parquet

anime_filtered_processed:
  type: pandas.ParquetDataset
  filepath: data/02_intermediate/anime_filtered_processed.parquet

# ===============================
# Primary(salida)
# ===============================

final_anime_dataset_raw:
  type: pandas.ParquetDataset
  filepath: data/03_primary/final_anime_dataset_raw.parquet

# =========================

final_anime_dataset_regresion:
  type: pandas.ParquetDataset
  filepath: data/05_model_input/final_anime_dataset_regresion.parquet

final_anime_dataset_clasificacion:
  type: pandas.ParquetDataset
  filepath: data/05_model_input/final_anime_dataset_clasificacion.parquet

# =========================
# SALIDAS
# =========================
modelos_entrenados_regresion:
  type: pickle.PickleDataset # <--- Esta es la corrección
  filepath: data/06_models/modelo_regresion.pkl

metricas_modelos_regresion:
  type: json.JSONDataset
  filepath: data/08_reporting/metricas_regresion.json

modelos_entrenados_clasificacion:
  type: pickle.PickleDataset
  filepath: data/06_models/modelos_clasificacion.pkl

metricas_clasificacion:
  type: json.JSONDataset
  filepath: data/08_reporting/metricas_clasificacion.json

# --- Salidas del Pipeline de Reporting (Regresión) ---

# Salida del Nodo 1: El JSON con todas las métricas
metricas_modelos:
  type: json.JSONDataSet
  filepath: data/08_reporting/regresion/metricas_modelos.json

# Salida del Nodo 2: El gráfico de barras comparativo
grafico_comparativo_metricas:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/regresion/comparacion_metricas.png

# --- Salidas del Bucle (Gráficos por Modelo) ---

# --- LinearRegression ---
grafico_actual_vs_pred_LinearRegression:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/regresion/LinearRegression_actual_vs_pred.png

grafico_residuos_LinearRegression:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/regresion/LinearRegression_residuos.png

# --- Ridge ---
grafico_actual_vs_pred_Ridge:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/regresion/Ridge_actual_vs_pred.png

grafico_residuos_Ridge:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/regresion/Ridge_residuos.png

# --- Lasso ---
grafico_actual_vs_pred_Lasso:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/regresion/Lasso_actual_vs_pred.png

grafico_residuos_Lasso:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/regresion/Lasso_residuos.png

# --- RandomForest ---
grafico_actual_vs_pred_RandomForest:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/regresion/RandomForest_actual_vs_pred.png

grafico_residuos_RandomForest:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/regresion/RandomForest_residuos.png

# --- GradientBoosting ---
grafico_actual_vs_pred_GradientBoosting:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/regresion/GradientBoosting_actual_vs_pred.png

grafico_residuos_GradientBoosting:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/regresion/GradientBoosting_residuos.png